{% extends 'base.html' %} {% block content %}

<!-- üåà TI√äU ƒê·ªÄ TRANG -->
<section class="text-center mb-3 pt-3">
  <h2 class="fw-bold text-gradient">ü´Ä ·ª®ng d·ª•ng ch·∫©n ƒëo√°n b·ªánh tim m·∫°ch</h2>
  <p class="text-muted mt-0 mx-auto" style="max-width: 640px">
    H·ªó tr·ª£ b√°c sƒ© v√† ng∆∞·ªùi d√πng d·ª± ƒëo√°n nguy c∆° tim m·∫°ch, ph√¢n t√≠ch d·ªØ li·ªáu s·ª©c
    kh·ªèe v√† ƒë∆∞a ra khuy·∫øn ngh·ªã y khoa ch√≠nh x√°c.
  </p>
</section>

<!-- üí° GI·ªöI THI·ªÜU -->
<section class="container mb-5">
  <div
    class="row align-items-center rounded-4 shadow-sm bg-white p-4 intro-card"
  >
    <div class="col-lg-6 text-center mb-3 mb-lg-0">
      <img
        src="{{ url_for('static', filename='images/heart-health.webp') }}"
        alt="Heart Health"
        class="img-fluid rounded-4 shadow-lg intro-img"
      />
    </div>
    <div class="col-lg-6 ps-lg-4">
      <h4 class="fw-semibold text-primary mb-3">
        üí° V√¨ sao n√™n theo d√µi s·ª©c kh·ªèe tim m·∫°ch?
      </h4>
      <p class="text-secondary text-justify mb-3">
        B·ªánh tim m·∫°ch l√† nguy√™n nh√¢n t·ª≠ vong h√†ng ƒë·∫ßu tr√™n to√†n c·∫ßu. Vi·ªác ph√°t
        hi·ªán s·ªõm <b>huy·∫øt √°p cao</b>, <b>r·ªëi lo·∫°n m·ª° m√°u</b>,
        <b>th·ª´a c√¢n</b> hay <b>th√≥i quen x·∫•u</b> gi√∫p ngƒÉn ng·ª´a bi·∫øn ch·ª©ng nguy
        hi·ªÉm nh∆∞ ƒë·ªôt qu·ªµ ho·∫∑c suy tim.
      </p>
      <p class="text-secondary text-justify mb-4">
        ·ª®ng d·ª•ng <b>CVD-App</b> s·ª≠ d·ª•ng c√¥ng ngh·ªá <b>AI ‚Äì Machine Learning</b>
        ƒë·ªÉ ph√¢n t√≠ch d·ªØ li·ªáu s·ª©c kh·ªèe, cung c·∫•p k·∫øt qu·∫£ d·ª± ƒëo√°n nguy c∆° v√† l·ªùi
        khuy√™n y khoa ph√π h·ª£p t·ª´ng ng∆∞·ªùi.
      </p>

      <a
        href="{{ url_for('diagnose') }}"
        class="btn btn-gradient px-4 py-2 shadow-sm"
      >
        ü©∫ B·∫Øt ƒë·∫ßu ch·∫©n ƒëo√°n
      </a>
    </div>
  </div>
</section>

<!-- üåü SLIDER (Hero Section minh h·ªça) -->
<section id="heroSection" class="mb-5">
  <div
    id="heroCarousel"
    class="carousel slide carousel-fade"
    data-bs-ride="carousel"
    data-bs-interval="3000"
  >
    <div class="carousel-inner rounded-4 shadow-lg">
      <!-- Slide 1 -->
      <div class="carousel-item active">
        <img
          src="{{ url_for('static', filename='images/slide1.webp') }}"
          class="d-block w-100 hero-img"
          alt="Healthy Heart"
        />
        <div class="carousel-overlay"></div>
        <div class="carousel-caption d-none d-md-block text-center">
          <h2 class="fw-bold text-gradient display-6">
            ü´Ä B·∫£o v·ªá tr√°i tim ‚Äì B·∫£o v·ªá cu·ªôc s·ªëng
          </h2>
          <p class="text-light mb-3">
            CVD-App h·ªó tr·ª£ d·ª± ƒëo√°n nguy c∆° b·ªánh tim b·∫±ng tr√≠ tu·ªá nh√¢n t·∫°o hi·ªán
            ƒë·∫°i.
          </p>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="carousel-item">
        <img
          src="{{ url_for('static', filename='images/slide2.webp') }}"
          class="d-block w-100 hero-img"
          alt="Healthy Lifestyle"
        />
        <div class="carousel-overlay"></div>
        <div class="carousel-caption d-none d-md-block text-center">
          <h2 class="fw-bold text-gradient display-6">
            üí™ S·ªëng kh·ªèe ‚Äì S·ªëng an vui
          </h2>
          <p class="text-light mb-3">
            Theo d√µi s·ª©c kh·ªèe tim m·∫°ch d·ªÖ d√†ng, ch√≠nh x√°c v√† ƒë√°ng tin c·∫≠y.
          </p>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="carousel-item">
        <img
          src="{{ url_for('static', filename='images/slide3.webp') }}"
          class="d-block w-100 hero-img"
          alt="AI Analysis"
        />
        <div class="carousel-overlay"></div>
        <div class="carousel-caption d-none d-md-block text-center">
          <h2 class="fw-bold text-gradient display-6">
            ü§ñ Ph√¢n t√≠ch th√¥ng minh t·ª´ AI
          </h2>
          <p class="text-light mb-3">
            ƒê∆∞a ra k·∫øt qu·∫£ d·ª± ƒëo√°n nguy c∆° v√† l·ªùi khuy√™n c√° nh√¢n h√≥a.
          </p>
        </div>
      </div>
    </div>

    <!-- Controls -->
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#heroCarousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#heroCarousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</section>

<!-- üì∞ TIN T·ª®C N·ªîI B·∫¨T -->
<section class="container pb-5">
  <div class="text-center mb-4">
    <h4 class="fw-bold text-primary">üì∞ Nh·ªØng ƒëi·ªÅu c√≥ th·ªÉ b·∫°n ƒë√£ bi·∫øt</h4>
  </div>

  <div class="row g-4">
    {% set news_items = [ ('news1.jpg', 'L·ªëi s·ªëng l√†nh m·∫°nh gi√∫p gi·∫£m nguy c∆°
    tim m·∫°ch', 'Duy tr√¨ c√¢n n·∫∑ng h·ª£p l√Ω, t·∫≠p th·ªÉ d·ª•c ƒë·ªÅu ƒë·∫∑n v√† ng·ªß ƒë·ªß gi·∫•c gi√∫p
    gi·∫£m nguy c∆° m·∫Øc b·ªánh tim m·∫°ch t·ªõi 50%.', 'text-primary'), ('news2.webp',
    'Ch·∫ø ƒë·ªô ƒÉn u·ªëng khoa h·ªçc', 'ƒÇn nhi·ªÅu rau xanh, tr√°i c√¢y t∆∞∆°i v√† c√° bi·ªÉn gi√∫p
    ·ªïn ƒë·ªãnh huy·∫øt √°p, gi·∫£m cholesterol, b·∫£o v·ªá tim m·∫°ch kh·ªèe m·∫°nh.',
    'text-success'), ('news3.png', 'Kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥', 'Kh√°m tim m·∫°ch ƒë·ªãnh
    k·ª≥ gi√∫p ph√°t hi·ªán s·ªõm tƒÉng huy·∫øt √°p, ti·ªÉu ƒë∆∞·ªùng ho·∫∑c r·ªëi lo·∫°n lipid m√°u ‚Äì
    y·∫øu t·ªë nguy c∆° h√†ng ƒë·∫ßu g√¢y b·ªánh tim.', 'text-danger') ] %} {% for img,
    title, desc, color in news_items %}
    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm rounded-4 news-card">
        <div class="overflow-hidden rounded-top-4">
          <img
            src="{{ url_for('static', filename='images/' + img) }}"
            class="card-img-top"
            alt="{{ title }}"
          />
        </div>
        <div class="card-body">
          <h6 class="fw-semibold {{ color }} mb-2">{{ title }}</h6>
          <p class="card-text text-muted text-justify small">{{ desc }}</p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<style>
  /* üåº TO√ÄN C·ª§C */
  body {
    background-color: #f8faff;
    color: #333;
    line-height: 1.7;
    font-family: "Poppins", sans-serif;
  }

  .text-gradient {
    background: linear-gradient(45deg, #d6336c, #6f42c1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* üí° INTRO SECTION */
  .intro-card {
    border-left: 4px solid #d6336c;
    background: #fff;
  }

  .intro-img {
    max-height: 360px;
    transition: transform 0.4s ease;
  }

  .intro-img:hover {
    transform: scale(1.04);
  }

  /* üîò BUTTON */
  .btn-gradient {
    background: linear-gradient(90deg, #ff6b6b, #d6336c);
    border: none;
    color: #fff;
    font-weight: 500;
    border-radius: 30px;
    transition: all 0.3s ease-in-out;
  }

  .btn-gradient:hover {
    background: linear-gradient(45deg, #d6336c, #6f42c1);
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(214, 51, 108, 0.3);
  }

  /* üì∞ NEWS CARD */
  .news-card {
    transition: all 0.3s ease;
    background: #fff;
  }

  .news-card img {
    height: 220px;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .news-card:hover img {
    transform: scale(1.08);
  }

  .news-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
  }

  /* ================================
   SLIDER ‚Äì Smooth Professional Optimized
================================ */
  .carousel-inner {
    overflow: hidden;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Hi·ªáu ·ª©ng fade + scale d·ªãu h∆°n */
  .carousel-fade .carousel-item {
    opacity: 0;
    transition: opacity 0.8s ease-in-out, transform 2.5s ease-out;
    transform: scale(1.01);
  }

  .carousel-fade .carousel-item.active {
    opacity: 1;
    transform: scale(1);
    z-index: 2;
  }

  /* Ken Burns m∆∞·ª£t, √≠t gi·∫≠t h∆°n */
  .carousel-item.active .hero-img {
    animation: kenburnsSoft 4s ease-in-out forwards;
  }

  @keyframes kenburnsSoft {
    0% {
      transform: scale(1) translate(0, 0);
    }
    50% {
      transform: scale(1.015) translate(-2px, -1px);
    }
    100% {
      transform: scale(1.01) translate(2px, 1px);
    }
  }

  /* H√¨nh ·∫£nh slider */
  .hero-img {
    height: 450px;
    object-fit: cover;
    opacity: 0.96;
    transition: opacity 1s ease;
    will-change: transform, opacity;
  }

  /* Caption fade & move nh·∫π h∆°n */
  .carousel-caption {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80%;
    text-align: center;
    transform: translate(-50%, -45%) scale(0.98);
    opacity: 0;
    transition: opacity 0.7s ease, transform 0.7s ease;
  }

  .carousel-item.active .carousel-caption {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    transition-delay: 0.1s;
  }

  .carousel-caption h2 {
    font-size: 2rem;
    font-weight: 700;
    color: #fff;
    text-shadow: 0 3px 8px rgba(0, 0, 0, 0.6);
    animation: fadeDownSoft 0.8s ease both;
  }

  .carousel-caption p {
    font-size: 1.05rem;
    color: #f8f9fa;
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
    animation: fadeUpSoft 0.9s ease both;
  }

  @keyframes fadeDownSoft {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeUpSoft {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  /* Overlay d·ªãu nh·∫π */
  .carousel-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.25),
      rgba(0, 0, 0, 0.5)
    );
    pointer-events: none;
    border-radius: 0.75rem;
  }
  /* N√∫t ƒëi·ªÅu khi·ªÉn */
  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.4));
    transition: transform 0.25s ease;
  }

  .carousel-control-prev-icon:hover,
  .carousel-control-next-icon:hover {
    transform: scale(1.1);
  }

  section {
    scroll-margin-top: 80px;
  }

  h2,
  h4 {
    font-weight: 600;
  }

  p {
    font-size: 1rem;
  }
  /* Hi·ªáu ·ª©ng xu·∫•t hi·ªán khi cu·ªôn (Scroll FadeUp) */
  .fade-up {
    opacity: 0;
    transform: translateY(25px);
    transition: all 0.8s ease-out;
    will-change: opacity, transform;
  }

  .fade-up.show {
    opacity: 1;
    transform: translateY(0);
  }

  /* T√πy ch·ªânh hi·ªáu ·ª©ng theo t·ª´ng lo·∫°i ph·∫ßn t·ª≠ */
  .intro-card,
  .news-card,
  #heroSection,
  .text-center h2,
  .text-center p {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s ease-in-out;
  }

  .intro-card.show,
  .news-card.show,
  #heroSection.show,
  .text-center h2.show,
  .text-center p.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>
<script>
  // Hi·ªáu ·ª©ng xu·∫•t hi·ªán khi cu·ªôn
  document.addEventListener("DOMContentLoaded", () => {
    const elements = document.querySelectorAll(
      ".intro-card, .news-card, #heroSection, .text-center h2, .text-center p"
    );

    const revealOnScroll = () => {
      const triggerBottom = window.innerHeight * 0.85;
      elements.forEach((el) => {
        const rect = el.getBoundingClientRect();
        if (rect.top < triggerBottom) {
          el.classList.add("show");
        }
      });
    };

    // G·ªçi khi load v√† khi cu·ªôn
    window.addEventListener("scroll", revealOnScroll);
    revealOnScroll();
  });
</script>

{% endblock %}
